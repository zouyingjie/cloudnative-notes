<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.0">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>整体架构 | 云原生架构笔记</title><meta name="description" content="构建大规模高可用的分布式系统">
    <link rel="preload" href="/cloudnativenotes/assets/style-C8UjLoOj.css" as="style"><link rel="stylesheet" href="/cloudnativenotes/assets/style-C8UjLoOj.css">
    <link rel="modulepreload" href="/cloudnativenotes/assets/app-C-eiXR-Q.js"><link rel="modulepreload" href="/cloudnativenotes/assets/architecture.html-Dc4NXGaN.js"><link rel="modulepreload" href="/cloudnativenotes/assets/architecture.html-CgZOV9r7.js">
    <link rel="prefetch" href="/cloudnativenotes/assets/index.html-CaDEAGlr.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/summary.html-5z9O3CRM.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/cron.html-BJpwXMoc.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/distributed-cache.html-BKPXsc_g.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/distributed-lock.html-Bkc2bnt8.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/session.html-DcEZyuC3.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/tracing.html-yfpjvzw7.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/uniqueid.html-DUYGPfKT.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/cap.html-B_eIltcI.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/clock.html-KdfBpAtx.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/consistency-and-consensus.html-B_fCTLL3.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/overview.html-Bgzt7s1r.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/sharding-and-replication.html-DUvyRyQl.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/transaction.html-CtA4W0xM.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/about.html-Bj3jP03N.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/dots.html-BFeEvQ5S.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/learn.html-CcJfDuaJ.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/perspective.html-Cm4yK9nC.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/responsibility.html-Dim4SFw7.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/toc.html-DvyeioSm.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/01.service-discovery.html-DCArp20B.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/02.service-config.html-wuC-D5mv.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/06.service-health.html-BYhliNkX.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/07.service-resilience-01.html-Dj-QSlZB.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/07.service-resilience-02.html-DUX16yyQ.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/08.traffic-schedule.html-Dxbe7Y59.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/index.html-Bb_GtxkL.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/index.html-fbfqkZuh.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/architecture.html-DJlJ8uIA.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/computing.html-Dcz7xqt8.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/definition.html-DcY1Fd2x.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/pass.html-CpqYH6Ci.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/index.html-ahw7-hdr.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/docker-arch.html-BgXIXtLU.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/docker-cgroups.html-oZZix2EO.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/docker-devicemapper.html-CeexLsdc.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/docker-filesystem.html-CqqKrl0p.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/docker-namespace.html-DkDkZSP1.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/docker.html-BYi6I0z-.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/index.html-DZ8leFL_.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/cicd.html-BQwJRK1k.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/devops.html-Bkik9OU5.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/gitflow.html-BGbxGwE2.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/index.html-D-_Pw43X.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/application.html-DxKvtGl3.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/cka.html-CPTlxrnN.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/config.html-velI3VEj.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/controller.html-k2T6cqne.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/future.html-BsLZsvYN.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/monitoring.html-DTZQN_t0.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/network.html-DBksTdnb.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/pod.html-DvVxe9V4.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/scheduler.html-CAcDBcea.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/security.html-DWM-cXsC.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/storage.html-DOJKqM46.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/index.html-WEBBo--q.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/definition.html-DC1x1JT3.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/logging.html-BmDmiZXu.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/metrics.html-BIerCiie.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/monitoring.html-Dyz9s1ab.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/trace.html-CVfGSZ9N.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/dependency.html-BKhmP467.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/discovery.html-BV343_90.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/lifecycle.html-CDWsGv0r.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/scale.html-H75RsCaz.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/stack.html-r7RjtVmp.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/communication.html-BXw213ih.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/design.html-CTn3BIoS.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/servicemesh.html-DtdX3YpQ.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/rest.html-C1iE-8Cc.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/webapi.html-CHk3nZs5.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/index.html-9l9raxog.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/history.html-CVrvIJBh.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/index.html-9l9raxog.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/mysql.html-C7Za4xWb.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/nosql.html-CZOZOwW8.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/REAEMD.html-CkzaJNpe.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/auth.html-DEvRT4s_.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/permission.html-DxiAcbsM.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/roadmap.html-CSbh4B2o.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/tls-cert.html-lCTnlmUr.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/contract.html-f9rU0CZJ.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/function.html-COBB1Ko5.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/load.html-DuAW42s-.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/spring-boot-unit-testing.html-CSz971jG.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/testcontainer.html-DJN5emyo.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/unit-test.html-BuuSHng_.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/availability.html-eZd_Y02n.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/decoupling.html-BoiDHrhp.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/fault-tolerance.html-BN40USBU.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/patterns.html-n88CnXZx.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/redundancy.html-CjCijiXC.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/loadbalancing.html-CWkvv6J6.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/mirroring.html-CpQrip5y.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/rate-limiting.html-4-4WIe2F.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/routing.html-D5F4XlL8.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/404.html-DqZtwkbf.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/index.html-DsMxHoe1.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/summary.html-Q6t1kFgr.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/cron.html-Dra8Tne5.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/distributed-cache.html-ty6fkx7S.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/distributed-lock.html-IGRU4884.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/session.html-B9otZ8y_.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/tracing.html-DqqQpAG7.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/uniqueid.html-BJ4CDN8L.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/cap.html-hpEFshBw.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/clock.html-Bw-k7agB.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/consistency-and-consensus.html-CMgxqBLl.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/overview.html-BDQ2tztl.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/sharding-and-replication.html-BPvJZka6.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/transaction.html-BRXvto4R.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/about.html-bDLcxvSU.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/dots.html-2bB6Ku5l.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/learn.html-D5_C_y2e.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/perspective.html-CuEkVcup.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/responsibility.html-D2uQ6HKY.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/toc.html-CCU8umSy.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/01.service-discovery.html-CJAFPF0c.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/02.service-config.html-C0dT9MoJ.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/06.service-health.html-x4gh2uOy.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/07.service-resilience-01.html-C6878baV.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/07.service-resilience-02.html-DC3AQT_a.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/08.traffic-schedule.html-DgSx9VI2.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/index.html-Br69DyaM.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/index.html-CRtCP2eX.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/architecture.html-ndQf8NmT.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/computing.html-DAdfg3A6.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/definition.html-1slUJu0S.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/pass.html-BI14EvKo.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/index.html-ocX59_KX.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/docker-arch.html-sAcu90h4.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/docker-cgroups.html-yRJlFdgp.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/docker-devicemapper.html-DyyGUOsZ.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/docker-filesystem.html-B-AjM8BT.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/docker-namespace.html-CkkVUzCp.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/docker.html-BLzfnp1G.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/index.html-Bcpe9sBH.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/cicd.html-DnIxr7nV.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/devops.html-rSNNi7J-.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/gitflow.html-CeOrhknP.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/index.html-CtiE0YWL.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/application.html-BFOT_eF4.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/cka.html-CgPyOSG3.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/config.html-CqHsKfL2.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/controller.html-DjkUXQkH.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/future.html-D34sD3Y8.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/monitoring.html-CToHqHbr.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/network.html-BJLLLwuE.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/pod.html-wpRnt80g.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/scheduler.html-ChB2Dnju.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/security.html-B1mAlvG1.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/storage.html-DfrhP5dU.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/index.html-DuVr14wn.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/definition.html-CYhZ0K2_.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/logging.html-DZ1T0vlO.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/metrics.html-NpQXjRPE.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/monitoring.html-BbJFPRdf.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/trace.html-B6jHcs82.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/dependency.html-CLPqcmBN.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/discovery.html-DLnVIG59.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/lifecycle.html-DbMEvmWs.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/scale.html-CD8rqfDC.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/stack.html-y5jQssus.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/communication.html-AUvi7IaZ.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/design.html-CmHJURnv.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/servicemesh.html-SLNvveq9.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/rest.html-BuuGuwVc.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/webapi.html-BFHol3Z1.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/index.html-BLuU14Un.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/history.html-Bo5Jk6Z9.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/index.html-BLuU14Un.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/mysql.html-DY6VZY0J.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/nosql.html-BnPzgDlf.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/REAEMD.html-B9hyN1MS.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/auth.html-C1IynFQA.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/permission.html-6DRnqYOD.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/roadmap.html-Cj29XfbQ.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/tls-cert.html-DQRQ2S_V.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/contract.html-DLjt-c0Q.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/function.html-COQyIpZW.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/load.html-4Xd7pdLN.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/spring-boot-unit-testing.html-DNhjdjQR.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/testcontainer.html-CdxrgXLE.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/unit-test.html-BnApfdzU.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/availability.html-B6i0aGsC.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/decoupling.html-T03ienA-.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/fault-tolerance.html-CoDoYsNs.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/patterns.html-XA-MeAJP.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/redundancy.html-Cw-rGKyJ.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/loadbalancing.html-CMPnvy1k.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/mirroring.html-B4Yk6fXQ.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/rate-limiting.html-XirS-n2q.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/routing.html-BqsuJym0.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/404.html-BpKyP9F4.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/giscus-DrGxERkK.js" as="script"><link rel="prefetch" href="/cloudnativenotes/assets/buttons.esm-DK2fWHEW.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container" data-v-efed79f6><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/cloudnativenotes/" class=""><img class="logo" src="/cloudnativenotes/images/microservices-logo.svg" alt="云原生架构笔记"><span class="site-name can-hide">云原生架构笔记</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/cloudnativenotes/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/zouyingjie/cloudnativenotes/discussions" rel="noopener noreferrer" target="_blank" aria-label="讨论"><!--[--><!--]--> 讨论 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/zouyingjie/cloudnativenotes" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/cloudnativenotes/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/zouyingjie/cloudnativenotes/discussions" rel="noopener noreferrer" target="_blank" aria-label="讨论"><!--[--><!--]--> 讨论 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/zouyingjie/cloudnativenotes" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/cloudnativenotes/end/about.md" class="sidebar-item sidebar-heading" aria-label="前言"><!--[--><!--]--> 前言 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/end/toc.md" class="sidebar-item sidebar-heading" aria-label="目录"><!--[--><!--]--> 目录 <!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading">通用设计 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">数据建模 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cloudnativenotes/common-design/modeling/history.html" class="sidebar-item" aria-label="DBMS的演进"><!--[--><!--]--> DBMS的演进 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/common-design/modeling/" class="sidebar-item" aria-label="数据库索引设计与优化"><!--[--><!--]--> 数据库索引设计与优化 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/common-design/modeling/mysql.html" class="sidebar-item" aria-label="MySQL 开发规范"><!--[--><!--]--> MySQL 开发规范 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/common-design/modeling/nosql.html" class="sidebar-item" aria-label="NoSQL 建模规范"><!--[--><!--]--> NoSQL 建模规范 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">API 设计 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cloudnativenotes/common-design/api/rest.html" class="sidebar-item" aria-label="WEB API 设计规范"><!--[--><!--]--> WEB API 设计规范 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/common-design/api/webapi.html" class="sidebar-item" aria-label="Web API 路径设计哪家强"><!--[--><!--]--> Web API 路径设计哪家强 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">认证与授权 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cloudnativenotes/common-design/security/roadmap.html" class="sidebar-item" aria-label="方案概览"><!--[--><!--]--> 方案概览 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/common-design/security/auth.html" class="sidebar-item" aria-label="身份认证"><!--[--><!--]--> 身份认证 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/common-design/security/permission.html" class="sidebar-item" aria-label="授权管理"><!--[--><!--]--> 授权管理 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">分布式系统-理论篇 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cloudnativenotes/distributed-system-theory/overview.html" class="sidebar-item" aria-label="分布式系统概览"><!--[--><!--]--> 分布式系统概览 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/distributed-system-theory/sharding-and-replication.html" class="sidebar-item" aria-label="数据分区与复制"><!--[--><!--]--> 数据分区与复制 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/distributed-system-theory/consistency-and-consensus.html" class="sidebar-item" aria-label="分布式共识"><!--[--><!--]--> 分布式共识 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/distributed-system-theory/transaction.html" class="sidebar-item" aria-label="分布式事务"><!--[--><!--]--> 分布式事务 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/distributed-system-theory/clock.html" class="sidebar-item" aria-label="分布式时钟"><!--[--><!--]--> 分布式时钟 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">分布式系统-工程篇 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cloudnativenotes/distributed-system-engineering/distributed-lock.html" class="sidebar-item" aria-label="分布式锁的设计"><!--[--><!--]--> 分布式锁的设计 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/distributed-system-engineering/uniqueid.html" class="sidebar-item" aria-label="分布式唯一 ID"><!--[--><!--]--> 分布式唯一 ID <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/distributed-system-engineering/cron.html" class="sidebar-item" aria-label="分布式任务调度"><!--[--><!--]--> 分布式任务调度 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/distributed-system-engineering/session.html" class="sidebar-item" aria-label="分布式会话"><!--[--><!--]--> 分布式会话 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/distributed-system-engineering/tracing.html" class="sidebar-item" aria-label="分布式追踪"><!--[--><!--]--> 分布式追踪 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/cloudnativenotes/cloudnative/summary.md" class="sidebar-item sidebar-heading active" aria-label="云原生架构"><!--[--><!--]--> 云原生架构 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">什么是云原生 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cloudnativenotes/cloudnative/architecture/architecture.html" class="sidebar-item" aria-label="分布式系统的演进"><!--[--><!--]--> 分布式系统的演进 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/architecture/definition.html" class="sidebar-item" aria-label="云原生的定义"><!--[--><!--]--> 云原生的定义 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/architecture/pass.html" class="sidebar-item" aria-label="云原生平台的构建"><!--[--><!--]--> 云原生平台的构建 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item active">不可变基础设施 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item">容器 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cloudnativenotes/cloudnative/container/docker-namespace.html" class="sidebar-item" aria-label="容器基础技术：namespace"><!--[--><!--]--> 容器基础技术：namespace <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/container/docker-cgroups.html" class="sidebar-item" aria-label="容器基础技术：cgroups"><!--[--><!--]--> 容器基础技术：cgroups <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/container/docker-filesystem.html" class="sidebar-item" aria-label="容器基础技术：文件系统"><!--[--><!--]--> 容器基础技术：文件系统 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/container/docker-devicemapper.html" class="sidebar-item" aria-label="容器基础技术：devicemapper"><!--[--><!--]--> 容器基础技术：devicemapper <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/container/docker.html" class="sidebar-item" aria-label="Docker 最佳实践"><!--[--><!--]--> Docker 最佳实践 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item active">Kubernetes <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/cloudnativenotes/cloudnative/kubernetes/architecture.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="整体架构"><!--[--><!--]--> 整体架构 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/cloudnativenotes/cloudnative/kubernetes/architecture.html#为什么需要-kubernetes" class="router-link-active router-link-exact-active sidebar-item" aria-label="为什么需要 Kubernetes"><!--[--><!--]--> 为什么需要 Kubernetes <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/cloudnativenotes/cloudnative/kubernetes/architecture.html#kubernetes-集群架构" class="router-link-active router-link-exact-active sidebar-item" aria-label="Kubernetes 集群架构"><!--[--><!--]--> Kubernetes 集群架构 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/cloudnativenotes/cloudnative/kubernetes/architecture.html#kubernetes-节点" class="router-link-active router-link-exact-active sidebar-item" aria-label="Kubernetes 节点"><!--[--><!--]--> Kubernetes 节点 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/cloudnativenotes/cloudnative/kubernetes/architecture.html#kubernetes-控制组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="Kubernetes 控制组件"><!--[--><!--]--> Kubernetes 控制组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/cloudnativenotes/cloudnative/kubernetes/architecture.html#通用组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="通用组件"><!--[--><!--]--> 通用组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/cloudnativenotes/cloudnative/kubernetes/architecture.html#容器运行时-containerd" class="router-link-active router-link-exact-active sidebar-item" aria-label="容器运行时 containerd"><!--[--><!--]--> 容器运行时 containerd <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/cloudnativenotes/cloudnative/kubernetes/architecture.html#其他组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="其他组件"><!--[--><!--]--> 其他组件 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/cloudnativenotes/cloudnative/kubernetes/architecture.html#kubernetes-资源对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="Kubernetes 资源对象"><!--[--><!--]--> Kubernetes 资源对象 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/cloudnativenotes/cloudnative/kubernetes/pod.html" class="sidebar-item" aria-label="Pod 那些事"><!--[--><!--]--> Pod 那些事 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/kubernetes/controller.html" class="sidebar-item" aria-label="控制器对象"><!--[--><!--]--> 控制器对象 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/kubernetes/config.html" class="sidebar-item" aria-label="配置管理对象"><!--[--><!--]--> 配置管理对象 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/kubernetes/network.html" class="sidebar-item" aria-label="网络原理"><!--[--><!--]--> 网络原理 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/kubernetes/storage.html" class="sidebar-item" aria-label="存储原理"><!--[--><!--]--> 存储原理 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/kubernetes/scheduler.html" class="sidebar-item" aria-label="调度原理"><!--[--><!--]--> 调度原理 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/kubernetes/security.html" class="sidebar-item" aria-label="安全机制"><!--[--><!--]--> 安全机制 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/kubernetes/application.html" class="sidebar-item" aria-label="应用封装与扩展"><!--[--><!--]--> 应用封装与扩展 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/kubernetes/monitoring.html" class="sidebar-item" aria-label="集群监控与 debug"><!--[--><!--]--> 集群监控与 debug <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">服务网格 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cloudnativenotes/cloudnative/servicemesh/communication.html" class="sidebar-item" aria-label="服务通信的演进"><!--[--><!--]--> 服务通信的演进 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/servicemesh/servicemesh.html" class="sidebar-item" aria-label="服务网格产品与生态"><!--[--><!--]--> 服务网格产品与生态 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/servicemesh/design.html" class="sidebar-item" aria-label="服务网格的设计"><!--[--><!--]--> 服务网格的设计 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">服务治理 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cloudnativenotes/cloudnative/service/dependency.html" class="sidebar-item" aria-label="服务依赖管理"><!--[--><!--]--> 服务依赖管理 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/service/stack.html" class="sidebar-item" aria-label="服务整栈编排"><!--[--><!--]--> 服务整栈编排 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/service/discovery.html" class="sidebar-item" aria-label="服务注册与发现"><!--[--><!--]--> 服务注册与发现 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/service/lifecycle.html" class="sidebar-item" aria-label="服务生命周期管理"><!--[--><!--]--> 服务生命周期管理 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">流量治理 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cloudnativenotes/cloudnative/service/traffic/loadbalancing.html" class="sidebar-item" aria-label="负载均衡"><!--[--><!--]--> 负载均衡 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/service/traffic/routing.html" class="sidebar-item" aria-label="流量路由"><!--[--><!--]--> 流量路由 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/service/traffic/rate-limiting.html" class="sidebar-item" aria-label="限流设计"><!--[--><!--]--> 限流设计 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/service/traffic/mirroring.html" class="sidebar-item" aria-label="流量镜像"><!--[--><!--]--> 流量镜像 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">可观测性 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cloudnativenotes/cloudnative/observability/definition.html" class="sidebar-item" aria-label="什么是可观测性"><!--[--><!--]--> 什么是可观测性 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/observability/metrics.html" class="sidebar-item" aria-label="指标"><!--[--><!--]--> 指标 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/observability/logging.html" class="sidebar-item" aria-label="日志"><!--[--><!--]--> 日志 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/observability/trace.html" class="sidebar-item" aria-label="链路追踪"><!--[--><!--]--> 链路追踪 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/observability/monitoring.html" class="sidebar-item" aria-label="全栈监控系统架构"><!--[--><!--]--> 全栈监控系统架构 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item">DevOps <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cloudnativenotes/cloudnative/devops/devops.html" class="sidebar-item" aria-label="打造企业 DevOps 文化"><!--[--><!--]--> 打造企业 DevOps 文化 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/devops/gitflow.html" class="sidebar-item" aria-label="软件开发工作流"><!--[--><!--]--> 软件开发工作流 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/cloudnative/devops/cicd.html" class="sidebar-item" aria-label="CI/CD 最佳实践"><!--[--><!--]--> CI/CD 最佳实践 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">何以为架构师 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/cloudnativenotes/end/responsibility.html" class="sidebar-item" aria-label="架构师的职责"><!--[--><!--]--> 架构师的职责 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/end/perspective.html" class="sidebar-item" aria-label="架构师的视角"><!--[--><!--]--> 架构师的视角 <!--[--><!--]--></a><!----></li><li><a href="/cloudnativenotes/end/learn.html" class="sidebar-item" aria-label="架构师的学习"><!--[--><!--]--> 架构师的学习 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/cloudnativenotes/end/dots.md" class="sidebar-item sidebar-heading" aria-label="后记：那些平淡的一天"><!--[--><!--]--> 后记：那些平淡的一天 <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="整体架构" tabindex="-1"><a class="header-anchor" href="#整体架构" aria-hidden="true">#</a> 整体架构</h1><h2 id="为什么需要-kubernetes" tabindex="-1"><a class="header-anchor" href="#为什么需要-kubernetes" aria-hidden="true">#</a> 为什么需要 Kubernetes</h2><p>Docker 的出现极大的简化了应用的打包、分发、部署、运维等操作，但是随着应用规模的不断扩大，尤其是微服务架构流行，会导致容器的数量越来越多，容器本身的运维，容器之间的服务发现、负载均衡、伸缩、升级、容灾、通信等操作都随之变得越来越复杂，此时需要一个容器编排系统来管理这些容器。</p><p>Google 2016 年发布的论文 <a href="https://queue.acm.org/detail.cfm?id=2898444" target="_blank" rel="noopener noreferrer">Borg, Omega, and Kubernetes<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 介绍了其容器编排系统的演变，从最早的 Borg 到更加符合软件工程规范的 Omega，最终演化为现在开源的 Kubernetes，已经成了容器编排的事实标准。</p><h2 id="kubernetes-集群架构" tabindex="-1"><a class="header-anchor" href="#kubernetes-集群架构" aria-hidden="true">#</a> Kubernetes 集群架构</h2><p>Kubernetes 本身是由一系列组件组成的容器编排系统，每个组件各司其职，从而实现容器的创建、调度、伸缩、配置等管理功能。整体架构如图：</p><p><img src="https://kubernetes.io/images/docs/kubernetes-cluster-architecture.svg" alt="Kubernetes 架构图"> 图片来自 <a href="https://kubernetes.io/zh-cn/docs/concepts/overview/components/" target="_blank" rel="noopener noreferrer">Kubernetes 官方文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="kubernetes-节点" tabindex="-1"><a class="header-anchor" href="#kubernetes-节点" aria-hidden="true">#</a> Kubernetes 节点</h3><p>首先 Kubernetes 是由若干台服务器组成集群，每台服务器就是一个节点，节点有两类角色：</p><ul><li><p><strong>控制节点（ControlPlane Node）</strong>：也叫 master 节点，主要负责运行 Kubernetes 的控制逻辑组件，实现 Kubernetes 的最核心的管理功能。master 节点可以有多个，组成高可用的控制平面，并且默认不允许运行普通的应用。</p></li><li><p><strong>工作节点 (Worker Node)</strong>：用来部署运行容器化应用的节点。</p></li></ul><h3 id="kubernetes-控制组件" tabindex="-1"><a class="header-anchor" href="#kubernetes-控制组件" aria-hidden="true">#</a> Kubernetes 控制组件</h3><p>Kubernetes 最核心的是 4 个运行在 ControlPlane 节点的控制组件。分别是：</p><ul><li><p><strong><a href="https://etcd.io/" target="_blank" rel="noopener noreferrer">Etcd<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></strong>：采用 RAFT 协议的强一致性、高可用的分布式的 key-value 存储系统，用于保存 Kubernetes 集群的所有数据，包括配置、状态等信息。</p></li><li><p><strong>kube-apiserver</strong>：这是外部和其他组件访问 Kubernetes 的 API 网关，采用 RESTful 协议，支持无状态水平伸缩。它是唯一可以与 etcd 通信的组件，其提供了一系列的 CRUD 接口供外部访问以操作数据，并且会校验请求中 object 数据的合法性以及进行身份认证、鉴权、准入控制等操作。</p></li><li><p><strong>kube-controller-manager</strong>：顾名思义，就是管理各类控制器的，kubernetes 使用各种控制器 Controller 来管理不同类型的资源对象。每当资源对象发生变动，都会有对应的 Controller 执行拟合操作，使得资源对象的实际状态和预期状态保持一致。</p><p>kube-controller-manager 就是负责创建并启动这些 Controller 的进程，常见的 Controller 有 Deployment Controller、ReplicaSet Controller、StatefulSet Controller、DaemonSet Controller、Job Controller 等，完整 Controller 列表参考 <a href="https://github.com/kubernetes/kubernetes/blob/master/cmd/kube-controller-manager/names/controller_names.go" target="_blank" rel="noopener noreferrer">controller_names<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p></li><li><p><strong>kube-scheduler</strong>：负责监听集群中还未分配到所属节点的 Pod，其根据一系列调度规则，将 Pod 调度到合适的节点运行。</p></li></ul><h3 id="通用组件" tabindex="-1"><a class="header-anchor" href="#通用组件" aria-hidden="true">#</a> 通用组件</h3><p>除了上述 4 个控制组件外，K8s 为了在节点运行容器以及执行通信等操作，每个节点还需要运行几个通用组件，分别是：</p><ul><li><p><strong>kubelet</strong>：这是一个运行在每个节点上的代理，向上与 kube-apiserver 交互同步 Pod 相关的信息。向下与容器运行时通信，根据实际的 Pod 信息来创建或销毁容器，并收集容器的状态、指标。</p></li><li><p><strong>kube-proxy</strong>：这是一个运行在每个节点上的网络代理，管理在节点上的网络规则，用来允许集群中的 Pod 进行集群内外的网络通讯。一般情况 kube-proxy 会直接使用操作系统提供的网络包过滤层的能力（比如iptable，ipvs）来进行网络流量的分发。</p></li></ul><h3 id="容器运行时-containerd" tabindex="-1"><a class="header-anchor" href="#容器运行时-containerd" aria-hidden="true">#</a> 容器运行时 containerd</h3><p>Kubernetes 是一个容器编排系统，其本身并不负责容器具体的创建、销毁等操作,所有容器操作都是通过每个节点的 kubelet 调用容器运行时来实现。</p><p>最开始 Kubernetes 使用 Docker 来操作具体的容器，后来引入了 <a href="https://kubernetes.io/docs/concepts/architecture/cri/" target="_blank" rel="noopener noreferrer">CRI（Container Runtime Interface）<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>接口。只要实现了 CRI 接口，就可以与 kubelet 交互从而被 Kubernetes 编排，这也符合 IOC 和面向接口编程的原则。</p><p>容器运行时又可以分为低级容器运行时和高级容器运行时。</p><p><strong>低级容器运行时</strong></p><p>处于最底层与操作系统直接交互的部分，它们一般遵循 OCI（Open Container Initiative，开放容器倡议）规范，直接负责容器的创建、销毁等操作。常见的低级容器运行时有：</p><ul><li><code>runc</code>：使用最广泛的低级容器运行时，Docker、containerd、Podman 等默认运行时。</li><li><code>nvidia-container-runtime</code>：NVIDIA 在 runc 的基础上进行扩展，提供了对 GPU 的支持。如果我们使用 Kubernetes 管理 GPU，通常会使用该运行时。</li><li><code>crun</code>：使用 C 语言编写的低级容器运行时，具有更快的启动时间和更低的内存占用，并且对 cgroup v2 有更好的支持。</li><li><code>kata-containers</code>：Kata Containers 是一个轻量级的虚拟化容器运行时，旨在提供更强的安全性和隔离性。</li><li><code>gvisor</code>： Google 开源的容器运行时，在用户态空间进行相关操作。</li></ul><p>后两者又被称为沙盒型运行时，实现了容器级别的隔离，提供了更强的安全性。如果对安全性要求非常高的场景，可以使用此类低级运行时。</p><p><strong>高级容器运行时</strong></p><p>处于低级容器运行时之上，提供了更加丰富的功能和工具，比如镜像管理、存储、网络管理等。常见的有：</p><ul><li><code>containerd</code>：最流行的高级容器运行时，最初是 Docker 的一部分，后来独立出来成为一个独立的项目。它实现了 CRI 接口，并且默认使用 runc 作为其低级运行时。</li><li><code>CRI-O</code>：专门为 Kubernetes 设计的轻量级容器运行时，实现了 CRI 接口，并且默认使用 runc 作为其低级运行时。</li><li><code>Docker</code>：虽然 Docker 本身不是一个符合 CRI 的容器运行时，但是 Kubernetes 通过 <code>dockershim</code> 来支持 Docker。需要注意的是，从 Kubernetes 1.20 开始，<code>dockershim</code> 被弃用，建议使用 containerd 或 CRI-O 等符合 CRI 的容器运行时。</li><li><code>Podman</code>：Podman 是一个无守护进程的容器引擎，支持运行和管理 OCI 容器。虽然 Podman 本身不直接实现 CRI 接口，但可以通过 <code>cri-o</code> 或其他适配器与 Kubernetes 集成。</li></ul><h3 id="其他组件" tabindex="-1"><a class="header-anchor" href="#其他组件" aria-hidden="true">#</a> 其他组件</h3><ul><li><p><strong>DNS服务</strong>： 集群内部的 DNS 服务组件，用来对 Service、Pod 做 DNS 解析实现集群内部的服务发现，目前默认是<a href="https://coredns.io/" target="_blank" rel="noopener noreferrer">CoreDNS<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p></li><li><p><strong>Ingress网关</strong>：在我们的传统 IT 环境中，经常会用 Nginx 做请求代理和路由、负载均衡，将我们的服务暴露给外界访问。在 Kubernetes 中也一样，我们需要一个类似的代理将部署在 Kubernetes 中的服务对外暴露，这是由 Ingress Controller 来做。</p><p>该组件基于 Ingress 对象对外部请求做路由，将服务暴露给外界访问，最常用的一般是 <a href="https://docs.nginx.com/nginx-ingress-controller/" target="_blank" rel="noopener noreferrer">NGINX Ingress Controller<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p></li></ul><h2 id="kubernetes-资源对象" tabindex="-1"><a class="header-anchor" href="#kubernetes-资源对象" aria-hidden="true">#</a> Kubernetes 资源对象</h2><p>上面介绍了 Kubernetes 运行所需的组件，如果我们想要在 Kubernetes 中部署一个应用，就需要用到Kubernetes 的资源对象。</p><p><strong>Kubernetes 将一切视为资源。</strong> 在Kubernetes 中，资源对象是持久化的实体，表现形式就是 YAML 文件。我们使用 Kubernetes 部署服务时基本就是编写各种资源对象的 yaml 文件，然后通过 kubectl 命令来操作这些资源对象。</p><p>下面是一个 yaml 文件示例，：</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1 
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>deployment
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
      <span class="token key atrule">app</span><span class="token punctuation">:</span> nginx
  <span class="token key atrule">replicas</span><span class="token punctuation">:</span> 
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">app</span><span class="token punctuation">:</span> nginx
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx
        <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span>1.14.2
        <span class="token key atrule">ports</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>一个完整的资源对象的 yaml 文件由四部分组成：</p><ul><li><p><strong>apiVersion &amp; kind</strong>：创建该对象所使用的 Kubernetes API 的版本和对象的类别。</p></li><li><p><strong>metadata</strong>：元信息，帮助唯一性标识对象的一些数据，包括 name 字符串、UID 和可选的 namespace 等。</p></li><li><p><strong>spec</strong>：对象规格，不同的对象有不同的 spec，用于定义其相关属性，创建对象时设置其内容，描述我们希望资源对象的<code>期望状态</code>，比如运行的副本数、镜像版本、端口信息等。</p></li><li><p><strong>status</strong>: 对象的<code>当前状态</code>，由 Kubernetes 系统组件设置并更新，在创建对象时我们只需要定义上述三部分内容即可。Kubernetes 的控制组件 管理组件的状态，以使之与我们定义的期望状态相匹配。</p></li></ul><p>使用 <code>kubectl get [objectType] [objectName] -o yaml</code> 可以在命令行上查看资源对象完整的 yaml。比如：</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code>$ kubectl get pod nginx <span class="token punctuation">-</span>o yaml
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">annotations</span><span class="token punctuation">:</span>
    <span class="token key atrule">cni.projectcalico.org/containerID</span><span class="token punctuation">:</span> f92fedeb090846bb8c81e43b28141e6b547c66f9b21892d406d0761ccd4e8557
    <span class="token key atrule">cni.projectcalico.org/podIP</span><span class="token punctuation">:</span> 10.233.105.202/32
    <span class="token key atrule">cni.projectcalico.org/podIPs</span><span class="token punctuation">:</span> 10.233.105.202/32
  <span class="token key atrule">creationTimestamp</span><span class="token punctuation">:</span> <span class="token string">&quot;2025-08-24T07:19:41Z&quot;</span>
  <span class="token key atrule">generateName</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>deployment<span class="token punctuation">-</span>96b9d695<span class="token punctuation">-</span>
  <span class="token key atrule">labels</span><span class="token punctuation">:</span>
    <span class="token key atrule">app</span><span class="token punctuation">:</span> nginx
    <span class="token key atrule">pod-template-hash</span><span class="token punctuation">:</span> 96b9d695
  <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>deployment<span class="token punctuation">-</span>96b9d695<span class="token punctuation">-</span>47trr
  <span class="token key atrule">namespace</span><span class="token punctuation">:</span> default
  <span class="token key atrule">ownerReferences</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
    <span class="token key atrule">blockOwnerDeletion</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">controller</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">kind</span><span class="token punctuation">:</span> ReplicaSet
    <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>deployment<span class="token punctuation">-</span>96b9d695
    <span class="token key atrule">uid</span><span class="token punctuation">:</span> 6e3229bc<span class="token punctuation">-</span>9e7e<span class="token punctuation">-</span>4eb9<span class="token punctuation">-</span>b076<span class="token punctuation">-</span>c63da03a21c5
  <span class="token key atrule">resourceVersion</span><span class="token punctuation">:</span> <span class="token string">&quot;681679&quot;</span>
  <span class="token key atrule">uid</span><span class="token punctuation">:</span> e40104ca<span class="token punctuation">-</span>0f72<span class="token punctuation">-</span>4dfa<span class="token punctuation">-</span>9a17<span class="token punctuation">-</span>45971d047d16
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span>latest
    <span class="token key atrule">imagePullPolicy</span><span class="token punctuation">:</span> Always
    <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
      <span class="token key atrule">protocol</span><span class="token punctuation">:</span> TCP
    <span class="token key atrule">resources</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token key atrule">terminationMessagePath</span><span class="token punctuation">:</span> /dev/termination<span class="token punctuation">-</span>log
    <span class="token key atrule">terminationMessagePolicy</span><span class="token punctuation">:</span> File
    <span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /var/run/secrets/kubernetes.io/serviceaccount
      <span class="token key atrule">name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>api<span class="token punctuation">-</span>access<span class="token punctuation">-</span>hqrfr
      <span class="token key atrule">readOnly</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">dnsPolicy</span><span class="token punctuation">:</span> ClusterFirst
  <span class="token key atrule">enableServiceLinks</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">nodeName</span><span class="token punctuation">:</span> tk13
  <span class="token key atrule">preemptionPolicy</span><span class="token punctuation">:</span> PreemptLowerPriority
  <span class="token key atrule">priority</span><span class="token punctuation">:</span> <span class="token number">0</span>
  <span class="token key atrule">restartPolicy</span><span class="token punctuation">:</span> Always
  <span class="token key atrule">schedulerName</span><span class="token punctuation">:</span> default<span class="token punctuation">-</span>scheduler
  <span class="token key atrule">securityContext</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token key atrule">serviceAccount</span><span class="token punctuation">:</span> default
  <span class="token key atrule">serviceAccountName</span><span class="token punctuation">:</span> default
  <span class="token key atrule">terminationGracePeriodSeconds</span><span class="token punctuation">:</span> <span class="token number">30</span>
  <span class="token key atrule">tolerations</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">effect</span><span class="token punctuation">:</span> NoExecute
    <span class="token key atrule">key</span><span class="token punctuation">:</span> node.kubernetes.io/not<span class="token punctuation">-</span>ready
    <span class="token key atrule">operator</span><span class="token punctuation">:</span> Exists
    <span class="token key atrule">tolerationSeconds</span><span class="token punctuation">:</span> <span class="token number">300</span>
  <span class="token punctuation">-</span> <span class="token key atrule">effect</span><span class="token punctuation">:</span> NoExecute
    <span class="token key atrule">key</span><span class="token punctuation">:</span> node.kubernetes.io/unreachable
    <span class="token key atrule">operator</span><span class="token punctuation">:</span> Exists
    <span class="token key atrule">tolerationSeconds</span><span class="token punctuation">:</span> <span class="token number">300</span>
  <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>api<span class="token punctuation">-</span>access<span class="token punctuation">-</span>hqrfr
    <span class="token key atrule">projected</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultMode</span><span class="token punctuation">:</span> <span class="token number">420</span>
      <span class="token key atrule">sources</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">serviceAccountToken</span><span class="token punctuation">:</span>
          <span class="token key atrule">expirationSeconds</span><span class="token punctuation">:</span> <span class="token number">3607</span>
          <span class="token key atrule">path</span><span class="token punctuation">:</span> token
      <span class="token punctuation">-</span> <span class="token key atrule">configMap</span><span class="token punctuation">:</span>
          <span class="token key atrule">items</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> <span class="token key atrule">key</span><span class="token punctuation">:</span> ca.crt
            <span class="token key atrule">path</span><span class="token punctuation">:</span> ca.crt
          <span class="token key atrule">name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>root<span class="token punctuation">-</span>ca.crt
      <span class="token punctuation">-</span> <span class="token key atrule">downwardAPI</span><span class="token punctuation">:</span>
          <span class="token key atrule">items</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> <span class="token key atrule">fieldRef</span><span class="token punctuation">:</span>
              <span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
              <span class="token key atrule">fieldPath</span><span class="token punctuation">:</span> metadata.namespace
            <span class="token key atrule">path</span><span class="token punctuation">:</span> namespace
<span class="token key atrule">status</span><span class="token punctuation">:</span>
  <span class="token key atrule">conditions</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">lastProbeTime</span><span class="token punctuation">:</span> <span class="token null important">null</span>
    <span class="token key atrule">lastTransitionTime</span><span class="token punctuation">:</span> <span class="token string">&quot;2025-08-24T07:19:53Z&quot;</span>
    <span class="token key atrule">status</span><span class="token punctuation">:</span> <span class="token string">&quot;True&quot;</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> PodReadyToStartContainers
  <span class="token punctuation">-</span> <span class="token key atrule">lastProbeTime</span><span class="token punctuation">:</span> <span class="token null important">null</span>
    <span class="token key atrule">lastTransitionTime</span><span class="token punctuation">:</span> <span class="token string">&quot;2025-08-24T07:19:42Z&quot;</span>
    <span class="token key atrule">status</span><span class="token punctuation">:</span> <span class="token string">&quot;True&quot;</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> Initialized
  <span class="token punctuation">-</span> <span class="token key atrule">lastProbeTime</span><span class="token punctuation">:</span> <span class="token null important">null</span>
    <span class="token key atrule">lastTransitionTime</span><span class="token punctuation">:</span> <span class="token string">&quot;2025-08-24T07:19:53Z&quot;</span>
    <span class="token key atrule">status</span><span class="token punctuation">:</span> <span class="token string">&quot;True&quot;</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> Ready
  <span class="token punctuation">-</span> <span class="token key atrule">lastProbeTime</span><span class="token punctuation">:</span> <span class="token null important">null</span>
    <span class="token key atrule">lastTransitionTime</span><span class="token punctuation">:</span> <span class="token string">&quot;2025-08-24T07:19:53Z&quot;</span>
    <span class="token key atrule">status</span><span class="token punctuation">:</span> <span class="token string">&quot;True&quot;</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> ContainersReady
  <span class="token punctuation">-</span> <span class="token key atrule">lastProbeTime</span><span class="token punctuation">:</span> <span class="token null important">null</span>
    <span class="token key atrule">lastTransitionTime</span><span class="token punctuation">:</span> <span class="token string">&quot;2025-08-24T07:19:41Z&quot;</span>
    <span class="token key atrule">status</span><span class="token punctuation">:</span> <span class="token string">&quot;True&quot;</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> PodScheduled
  <span class="token key atrule">containerStatuses</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">containerID</span><span class="token punctuation">:</span> containerd<span class="token punctuation">:</span>//92c96cebbfd61d8b164c5ffff068d2ce9749b1ade488006a2fdfc4f966b8cfca
    <span class="token key atrule">image</span><span class="token punctuation">:</span> docker.io/library/nginx<span class="token punctuation">:</span>latest
    <span class="token key atrule">imageID</span><span class="token punctuation">:</span> docker.io/library/nginx@sha256<span class="token punctuation">:</span>33e0bbc7ca9ecf108140af6288c7c9d1ecc77548cbfd3952fd8466a75edefe57
    <span class="token key atrule">lastState</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> nginx
    <span class="token key atrule">ready</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">restartCount</span><span class="token punctuation">:</span> <span class="token number">0</span>
    <span class="token key atrule">started</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">state</span><span class="token punctuation">:</span>
      <span class="token key atrule">running</span><span class="token punctuation">:</span>
        <span class="token key atrule">startedAt</span><span class="token punctuation">:</span> <span class="token string">&quot;2025-08-24T07:19:53Z&quot;</span>
    <span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> /var/run/secrets/kubernetes.io/serviceaccount
      <span class="token key atrule">name</span><span class="token punctuation">:</span> kube<span class="token punctuation">-</span>api<span class="token punctuation">-</span>access<span class="token punctuation">-</span>hqrfr
      <span class="token key atrule">readOnly</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">recursiveReadOnly</span><span class="token punctuation">:</span> Disabled
  <span class="token key atrule">hostIP</span><span class="token punctuation">:</span> 172.19.0.13
  <span class="token key atrule">hostIPs</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">ip</span><span class="token punctuation">:</span> 172.19.0.13
  <span class="token key atrule">phase</span><span class="token punctuation">:</span> Running
  <span class="token key atrule">podIP</span><span class="token punctuation">:</span> 10.233.105.202
  <span class="token key atrule">podIPs</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">ip</span><span class="token punctuation">:</span> 10.233.105.202
  <span class="token key atrule">qosClass</span><span class="token punctuation">:</span> BestEffort
  <span class="token key atrule">startTime</span><span class="token punctuation">:</span> <span class="token string">&quot;2025-08-24T07:19:42Z&quot;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>基于上述整体架构的介绍，可以看到对 Kubernetes 本身的学习大致可以归为两方面：</p><ul><li><p><strong>Kubernetes 自身的学习</strong>：整体的运行，各个组件的实现原理等。比如 etcd 的工作原理，容器运行时的实现原理、网络插件的实现原理等。</p></li><li><p><strong>Kubernetes 的使用</strong>：如果基于 Kubernetes 运行我们的应用，主要是学习各种资源对象的使用，如何编写 yaml 文件，如何使用 kubectl 命令等。</p></li></ul></div><!--[--><!--[--><div class="page-info" data-v-efed79f6><div class="star" data-v-efed79f6><span data-v-efed79f6><a data-icon="octicon-star" href="https://github.com/zouyingjie/cloudnative-notes">Star 关注</a></span></div><div class="last-updated" data-v-efed79f6><span class="prefix" data-v-efed79f6>总字数:</span><span class="words" data-v-efed79f6>2629</span><span class="prefix" data-v-efed79f6>字</span></div></div><div id="comment" class="giscus-wrapper input-top layout-comment" style="display:block;" data-v-efed79f6><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!--]--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/zouyingjie/cloudnativenotes/edit/main/cloudnative/kubernetes/architecture.md" rel="noopener noreferrer" target="_blank" aria-label="在GitHub中编辑"><!--[--><!--]--> 在GitHub中编辑 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: yingjiezou1@gmail.com">zouyingjie</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/cloudnativenotes/cloudnative/kubernetes/pod.html" class="" aria-label="Pod 那些事"><!--[--><!--]--> Pod 那些事 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/cloudnativenotes/assets/app-C-eiXR-Q.js" defer></script>
  </body>
</html>
